<template>
  <!-- selected-item-index is used only for assigning the initial value -->
  <dropdown class="tokenSelect"
    item-changed.call="setSelectedToken(value,index)"
    selected-item-index.to-view="selectedTokenIndex"
    placeholder="Select a token...">
    <div repeat.for="tokenInfo of tokenInfos">
      <!-- Loading tokens - show spinner -->
      <div class="tokenItem" if.to-view="!tokenInfo.address">
        <div><i class="spinner fas fa-circle-notch fa-spin"></i></div>
        <div>Loading...</div>
      </div>
      <!-- Done loading -->
      <div else class="tokenItem">
        <div><img src.to-view="tokenInfo.logoURI"></img></div>
        <div>${tokenInfo.name}</div>
        <div>(${tokenInfo.symbol})</div>
      </div>
    </div>
  </dropdown>
</template>
