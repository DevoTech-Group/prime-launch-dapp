<template>
  <div class="page animated-page adminContainer au-animate ">
    <div show.bind="!loading">
      <div if.bind="!connected"><button class="button1" click.delegate="connect()">Connect...</button></div>
      <div else class="formContainer">
          <div if.bind="seeds.length">
            <dropdown item-changed.call="setSeed(index)"
              selected-item-index.to-view="selectedSeed.metadata.general.projectName"
              placeholder="Select a Seed...">
              <div repeat.for="seed of seeds">${seed.metadata.general.projectName}</div>
            </dropdown>
            <div if.bind="selectedSeed.address">
                <div if.bind="!selectedSeed.hasEnoughProjectTokens" class="button1" click.delegate="selectedSeed.fund()">
                  Fund Project
                </div>
                <div if.bind="selectedSeed.claimingIsOpen" class="button1" click.delegate="selectedSeed.withdrawFundingTokens()">
                  Withdraw Funding Tokens
                </div>
                <div if.bind="selectedSeed.isClosed || selectedSeed.claimingIsOpen">
                  <div>
                    <label for="receiverAddress">Receiver Address</label>
                    <input id="receiverAddress" value.bind="receiverAddress" placeholder="0x6C4ef..." />
                  </div>
                  <div class="button1" click.delegate="selectedSeed.retrieveProjectTokens(receiverAddress)">
                    Retrieve Project Tokens
                  </div>
                </div>
                <div if.bind="selectedSeed.whitelisted && !selectedSeed.isClosed" class="button1" click.delegate="addWhitelist()">
                  Add Whitelist
                </div>
                <div if.bind="!selectedSeed.isPaused && !selectedSeed.isClosed" class="button1" click.delegate="selectedSeed.pause()">
                  Pause
                </div>
                <div else if.bind="!selectedSeed.isClosed" class="button1" click.delegate="selectedSeed.unPause()">
                  UnPause
                </div>
                <div if.bind="selectedSeed.whitelisted && !selectedSeed.isClosed">
                  <div>
                    <label for="addressToAdd">Address to add from whitelist</label>
                    <input id="addressToAdd" value.bind="addressToAdd" placeholder="0x6C4ef..." />
                  </div>
                  <div class="button1" click.delegate="selectedSeed.addToWhitelist(addressToAdd)">
                    Add to whitelist
                  </div>
                </div>
                <div if.bind="selectedSeed.whitelisted && !selectedSeed.isClosed">
                  <div>
                    <label for="addressToRemove">Address to remove from whitelist</label>
                    <input id="addressToRemove" value.bind="addressToRemove" placeholder="0x6C4ef..." />
                  </div>
                  <div class="button1" click.delegate="selectedSeed.removeFromWhitelist(addressToRemove)">
                    Remove from whitelist
                  </div>
                </div>
                <div if.bind="!selectedSeed.isClosed" class="button1" click.delegate="selectedSeed.close()">
                  Close
                </div>
            </div>
          </div>
          <div else>You have not created any Seeds</div>
      </div>
    </div>
</template>